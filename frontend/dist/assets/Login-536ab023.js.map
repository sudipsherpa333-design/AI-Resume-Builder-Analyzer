{"version":3,"file":"Login-536ab023.js","sources":["../../src/pages/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useAuth } from '../context/AuthContext';\nimport { FcGoogle } from 'react-icons/fc';\nimport { FaFacebook, FaEye, FaEyeSlash, FaEnvelope, FaLock } from 'react-icons/fa';\nimport toast from 'react-hot-toast';\n\nconst Login = () => {\n    const [formData, setFormData] = useState({\n        email: '',\n        password: '',\n    });\n    const [showPassword, setShowPassword] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [socialLoading, setSocialLoading] = useState({ google: false, facebook: false });\n    const [rememberMe, setRememberMe] = useState(false);\n\n    const { login, socialLogin, demoLogin, isAuthenticated } = useAuth();\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    // Compute redirect target: prefer location.state.from (set by ProtectedRoute), fall back to query param, default to home\n    const getRedirectTarget = () => {\n        const searchParams = new URLSearchParams(location.search);\n        const redirectQuery = searchParams.get('redirect');\n        return location.state?.from?.pathname || redirectQuery || '/';\n    };\n\n    const [from, setFrom] = useState(getRedirectTarget());\n\n    // Redirect if already authenticated\n    useEffect(() => {\n        if (isAuthenticated) {\n            navigate(from, { replace: true });\n        }\n    }, [isAuthenticated, from, navigate]);\n\n    // ==================== GOOGLE AUTH SETUP ====================\n    useEffect(() => {\n        const loadGoogleSDK = () => {\n            if (window.google) return;\n\n            const script = document.createElement('script');\n            script.src = 'https://accounts.google.com/gsi/client';\n            script.async = true;\n            script.defer = true;\n            script.onload = initializeGoogleAuth;\n            document.head.appendChild(script);\n        };\n\n        loadGoogleSDK();\n\n        return () => {\n            const script = document.querySelector('script[src=\"https://accounts.google.com/gsi/client\"]');\n            if (script) {\n                document.head.removeChild(script);\n            }\n        };\n    }, []);\n\n    const initializeGoogleAuth = () => {\n        if (!window.google) return;\n\n        try {\n            window.google.accounts.id.initialize({\n                client_id: import.meta.env.VITE_GOOGLE_CLIENT_ID || 'YOUR_GOOGLE_CLIENT_ID_HERE',\n                callback: handleGoogleResponse,\n                auto_select: false,\n            });\n            console.log('‚úÖ Google SDK initialized');\n        } catch (error) {\n            console.error('‚ùå Failed to initialize Google Auth:', error);\n        }\n    };\n\n    const handleGoogleResponse = async (response) => {\n        setSocialLoading(prev => ({ ...prev, google: true }));\n\n        try {\n            const socialData = {\n                token: response.credential,\n                provider: 'google'\n            };\n\n            const result = await socialLogin('google', socialData);\n            if (result.success) {\n                toast.success('üéâ Successfully logged in with Google!');\n                navigate(from, { replace: true });\n            } else {\n                toast.error(result.message || 'Google login failed');\n            }\n        } catch (error) {\n            console.error('‚ùå Google login error:', error);\n            toast.error('Google login failed. Please try again.');\n        } finally {\n            setSocialLoading(prev => ({ ...prev, google: false }));\n        }\n    };\n\n    const handleGoogleLogin = () => {\n        if (window.google) {\n            try {\n                window.google.accounts.id.prompt((notification) => {\n                    if (notification.isNotDisplayed() || notification.isSkippedMoment()) {\n                        const container = document.getElementById('googleButtonContainer');\n                        if (container) {\n                            window.google.accounts.id.renderButton(container, {\n                                theme: 'outline',\n                                size: 'large',\n                                width: '100%',\n                                text: 'continue_with'\n                            });\n                        }\n                    }\n                });\n            } catch (error) {\n                console.error('Google prompt error:', error);\n                toast.error('Google sign-in is not available. Please try again.');\n            }\n        } else {\n            toast.error('Google sign-in is loading. Please try again in a moment.');\n        }\n    };\n\n    // ==================== FACEBOOK AUTH SETUP ====================\n    useEffect(() => {\n        const loadFacebookSDK = () => {\n            if (window.FB) return;\n\n            const script = document.createElement('script');\n            script.async = true;\n            script.defer = true;\n            script.crossOrigin = 'anonymous';\n            script.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v18.0&appId=' +\n                (import.meta.env.VITE_FACEBOOK_APP_ID || 'YOUR_FACEBOOK_APP_ID_HERE');\n\n            script.onload = initializeFacebookAuth;\n            document.head.appendChild(script);\n        };\n\n        loadFacebookSDK();\n\n        return () => {\n            const script = document.querySelector('script[src*=\"facebook\"]');\n            if (script) {\n                document.head.removeChild(script);\n            }\n        };\n    }, []);\n\n    const initializeFacebookAuth = () => {\n        if (!window.FB) return;\n\n        try {\n            window.FB.init({\n                appId: import.meta.env.VITE_FACEBOOK_APP_ID || 'YOUR_FACEBOOK_APP_ID_HERE',\n                xfbml: true,\n                version: 'v18.0'\n            });\n            console.log('‚úÖ Facebook SDK initialized');\n        } catch (error) {\n            console.error('‚ùå Failed to initialize Facebook Auth:', error);\n        }\n    };\n\n    const handleFacebookLogin = async () => {\n        setSocialLoading(prev => ({ ...prev, facebook: true }));\n\n        try {\n            if (!window.FB) {\n                toast.error('Facebook SDK is not loaded. Please try again.');\n                setSocialLoading(prev => ({ ...prev, facebook: false }));\n                return;\n            }\n\n            window.FB.login(async (response) => {\n                if (response.authResponse) {\n                    const accessToken = response.authResponse.accessToken;\n\n                    // Get user profile info\n                    window.FB.api('/me', { fields: 'id,name,email,picture' }, async (userInfo) => {\n                        const socialData = {\n                            token: accessToken,\n                            provider: 'facebook',\n                            userData: {\n                                id: userInfo.id,\n                                name: userInfo.name,\n                                email: userInfo.email,\n                                picture: userInfo.picture?.data?.url\n                            }\n                        };\n\n                        try {\n                            const result = await socialLogin('facebook', socialData);\n                            if (result.success) {\n                                toast.success('üéâ Successfully logged in with Facebook!');\n                                navigate(from, { replace: true });\n                            } else {\n                                toast.error(result.message || 'Facebook login failed');\n                            }\n                        } catch (error) {\n                            console.error('‚ùå Facebook login error:', error);\n                            toast.error('Facebook login failed. Please try again.');\n                        } finally {\n                            setSocialLoading(prev => ({ ...prev, facebook: false }));\n                        }\n                    });\n                } else {\n                    console.log('User cancelled Facebook login or did not fully authorize.');\n                    setSocialLoading(prev => ({ ...prev, facebook: false }));\n                }\n            }, { scope: 'public_profile,email' });\n        } catch (error) {\n            console.error('‚ùå Facebook login error:', error);\n            toast.error('Facebook login failed. Please try again.');\n            setSocialLoading(prev => ({ ...prev, facebook: false }));\n        }\n    };\n\n    // ==================== EMAIL/PASSWORD HANDLERS ====================\n    const handleChange = (e) => {\n        setFormData(prev => ({\n            ...prev,\n            [e.target.name]: e.target.value,\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        // Validation\n        if (!formData.email || !formData.password) {\n            toast.error('Please fill in all fields');\n            return;\n        }\n\n        // Simple email format check (skip for admin username)\n        if (formData.email !== 'airesume100' && !/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n            toast.error('Please enter a valid email address');\n            return;\n        }\n\n        setIsLoading(true);\n\n        try {\n            const result = await login(formData.email, formData.password);\n\n            if (result.success) {\n                toast.success('üéâ Welcome back!');\n                \n                // Check for admin role\n                if (result.user?.role === 'admin') {\n                    toast.success('üëÆ Redirecting to Admin Dashboard...');\n                    // Redirect to Admin App (assuming it runs on port 5174)\n                    // Using window.location to break out of current SPA router\n                    setTimeout(() => {\n                        window.location.href = 'http://localhost:5174';\n                    }, 1000);\n                } else {\n                    // Redirect to dashboard after successful login\n                    navigate('/dashboard', { replace: true });\n                }\n            } else {\n                toast.error(result.message || 'Login failed');\n            }\n        } catch (error) {\n            console.error('‚ùå Login error:', error);\n            toast.error('An unexpected error occurred. Please try again.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // Demo login for testing\n    const handleDemoLogin = async () => {\n        setIsLoading(true);\n        try {\n            toast.loading('Attempting demo login...', { duration: 2000 });\n\n            const result = await demoLogin();\n\n            if (result.success) {\n                toast.success('üöÄ Welcome to Demo Account! Redirecting to dashboard...');\n                // Always redirect to dashboard for demo account\n                setTimeout(() => navigate('/dashboard', { replace: true }), 500);\n            } else {\n                toast.error(result.message || '‚ùå Demo account not available. Please check your connection.');\n                console.log('Demo login failed:', result.message);\n            }\n        } catch (error) {\n            console.error('‚ùå Demo login error:', error);\n            toast.error('Demo login failed. Please check your connection and try again.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // ==================== ANIMATION VARIANTS ====================\n    const containerVariants = {\n        hidden: { opacity: 0 },\n        visible: {\n            opacity: 1,\n            transition: {\n                duration: 0.6,\n                staggerChildren: 0.1\n            }\n        }\n    };\n\n    const itemVariants = {\n        hidden: { y: 20, opacity: 0 },\n        visible: {\n            y: 0,\n            opacity: 1,\n            transition: {\n                duration: 0.5\n            }\n        }\n    };\n\n    // ==================== RENDER ====================\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4\">\n            <motion.div\n                className=\"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center\"\n                variants={containerVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n            >\n                {/* Brand Section */}\n                <motion.div\n                    className=\"hidden lg:flex flex-col items-center justify-center text-center p-8\"\n                    variants={itemVariants}\n                >\n                    <motion.div\n                        className=\"text-6xl mb-6\"\n                        animate={{ y: [0, -10, 0] }}\n                        transition={{ duration: 3, repeat: Infinity, ease: \"easeInOut\" }}\n                    >\n                        üëã\n                    </motion.div>\n                    <motion.h1\n                        className=\"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4\"\n                        variants={itemVariants}\n                    >\n                        Welcome Back\n                    </motion.h1>\n                    <motion.p\n                        className=\"text-xl text-gray-600 mb-8\"\n                        variants={itemVariants}\n                    >\n                        Continue building amazing resumes\n                    </motion.p>\n                    <motion.div\n                        className=\"space-y-4 text-left max-w-sm\"\n                        variants={itemVariants}\n                    >\n                        {[\n                            { icon: 'üöÄ', text: 'Pick up where you left off' },\n                            { icon: 'üìä', text: 'Access your resume analytics' },\n                            { icon: 'üé®', text: 'Edit your existing templates' },\n                            { icon: 'üì•', text: 'Download your resumes instantly' }\n                        ].map((feature, index) => (\n                            <motion.div\n                                key={feature.text}\n                                className=\"flex items-center space-x-3 text-gray-700 text-lg\"\n                                variants={itemVariants}\n                                custom={index}\n                            >\n                                <span className=\"text-2xl flex-shrink-0\">{feature.icon}</span>\n                                <span>{feature.text}</span>\n                            </motion.div>\n                        ))}\n                    </motion.div>\n                </motion.div>\n\n                {/* Login Form */}\n                <motion.div\n                    className=\"bg-white rounded-2xl shadow-xl p-6 lg:p-8 border border-gray-100 w-full max-w-md mx-auto\"\n                    variants={itemVariants}\n                >\n                    <motion.div\n                        className=\"text-center mb-8\"\n                        variants={itemVariants}\n                    >\n                        <h2 className=\"text-2xl lg:text-3xl font-bold text-gray-900 mb-2\">Sign In</h2>\n                        <p className=\"text-gray-600\">Sign in to your account to continue</p>\n                    </motion.div>\n\n                    {/* Demo Button */}\n                    <motion.button\n                        onClick={handleDemoLogin}\n                        disabled={isLoading}\n                        className=\"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 px-4 rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none mb-4\"\n                        variants={itemVariants}\n                        whileHover={!isLoading ? { scale: 1.02 } : {}}\n                        whileTap={!isLoading ? { scale: 0.98 } : {}}\n                    >\n                        {isLoading ? (\n                            <div className=\"flex items-center justify-center space-x-2\">\n                                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                                <span>Signing in...</span>\n                            </div>\n                        ) : (\n                            'üé¨ Try Demo Account'\n                        )}\n                    </motion.button>\n\n                    <div className=\"my-4 flex items-center\">\n                        <div className=\"flex-1 border-t border-gray-300\"></div>\n                        <span className=\"px-4 text-sm text-gray-500\">Or sign in with account</span>\n                        <div className=\"flex-1 border-t border-gray-300\"></div>\n                    </div>\n\n                    <form onSubmit={handleSubmit} className=\"space-y-4\">\n                        <motion.div variants={itemVariants}>\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                                Email Address or Admin Username\n                            </label>\n                            <div className=\"relative\">\n                                <FaEnvelope className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm\" />\n                                <input\n                                    type=\"text\"\n                                    id=\"email\"\n                                    name=\"email\"\n                                    value={formData.email}\n                                    onChange={handleChange}\n                                    required\n                                    className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm placeholder-gray-400\"\n                                    placeholder=\"your@email.com or username\"\n                                    disabled={isLoading}\n                                />\n                            </div>\n                        </motion.div>\n\n                        <motion.div variants={itemVariants}>\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                                Password\n                            </label>\n                            <div className=\"relative\">\n                                <FaLock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm\" />\n                                <input\n                                    type={showPassword ? 'text' : 'password'}\n                                    id=\"password\"\n                                    name=\"password\"\n                                    value={formData.password}\n                                    onChange={handleChange}\n                                    required\n                                    className=\"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm placeholder-gray-400\"\n                                    placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                                    disabled={isLoading}\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setShowPassword(!showPassword)}\n                                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50\"\n                                    disabled={isLoading}\n                                >\n                                    {showPassword ? <FaEyeSlash size={16} /> : <FaEye size={16} />}\n                                </button>\n                            </div>\n                        </motion.div>\n\n                        <motion.div className=\"flex items-center justify-between\" variants={itemVariants}>\n                            <div className=\"flex items-center\">\n                                <input\n                                    id=\"remember-me\"\n                                    name=\"remember-me\"\n                                    type=\"checkbox\"\n                                    checked={rememberMe}\n                                    onChange={(e) => setRememberMe(e.target.checked)}\n                                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                    disabled={isLoading}\n                                />\n                                <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-700\">\n                                    Remember me\n                                </label>\n                            </div>\n\n                            <Link\n                                to=\"/forgot-password\"\n                                className=\"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors\"\n                            >\n                                Forgot password?\n                            </Link>\n                        </motion.div>\n\n                        <motion.button\n                            type=\"submit\"\n                            disabled={isLoading}\n                            className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none mt-2\"\n                            variants={itemVariants}\n                            whileHover={!isLoading ? { scale: 1.02 } : {}}\n                            whileTap={!isLoading ? { scale: 0.98 } : {}}\n                        >\n                            {isLoading ? (\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                                    <span>Signing in...</span>\n                                </div>\n                            ) : (\n                                'Sign in to your account'\n                            )}\n                        </motion.button>\n                    </form>\n\n                    <motion.div className=\"my-6 flex items-center\" variants={itemVariants}>\n                        <div className=\"flex-1 border-t border-gray-300\"></div>\n                        <span className=\"px-4 text-sm text-gray-500\">Or continue with</span>\n                        <div className=\"flex-1 border-t border-gray-300\"></div>\n                    </motion.div>\n\n                    {/* Social Login Buttons */}\n                    <motion.div className=\"space-y-3\" variants={itemVariants}>\n                        {/* Google Button Container */}\n                        <div id=\"googleButtonContainer\" className=\"w-full flex justify-center\" />\n\n                        {/* Google Manual Button (fallback) */}\n                        <button\n                            onClick={handleGoogleLogin}\n                            disabled={socialLoading.google || isLoading}\n                            className=\"w-full flex items-center justify-center space-x-3 py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n                        >\n                            {socialLoading.google ? (\n                                <div className=\"flex items-center space-x-2\">\n                                    <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n                                    <span>Connecting...</span>\n                                </div>\n                            ) : (\n                                <>\n                                    <FcGoogle className=\"text-xl\" />\n                                    <span>Continue with Google</span>\n                                </>\n                            )}\n                        </button>\n\n                        {/* Facebook Button */}\n                        <button\n                            onClick={handleFacebookLogin}\n                            disabled={socialLoading.facebook || isLoading}\n                            className=\"w-full flex items-center justify-center space-x-3 py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n                        >\n                            {socialLoading.facebook ? (\n                                <div className=\"flex items-center space-x-2\">\n                                    <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n                                    <span>Connecting...</span>\n                                </div>\n                            ) : (\n                                <>\n                                    <FaFacebook className=\"text-xl text-blue-600\" />\n                                    <span>Continue with Facebook</span>\n                                </>\n                            )}\n                        </button>\n                    </motion.div>\n\n                    {/* Footer */}\n                    <motion.div\n                        className=\"text-center mt-8 pt-6 border-t border-gray-200\"\n                        variants={itemVariants}\n                    >\n                        <p className=\"text-gray-600 text-sm\">\n                            Don't have an account?{' '}\n                            <Link\n                                to=\"/register\"\n                                className=\"font-semibold text-blue-600 hover:text-blue-500 transition-colors\"\n                            >\n                                Create account\n                            </Link>\n                        </p>\n                        <Link\n                            to=\"/\"\n                            className=\"inline-block mt-4 text-sm text-gray-500 hover:text-gray-700 transition-colors hover:underline\"\n                        >\n                            ‚Üê Back to Home\n                        </Link>\n                    </motion.div>\n                </motion.div>\n            </motion.div>\n        </div>\n    );\n};\n\nexport default Login;\n"],"names":["Login","formData","setFormData","useState","showPassword","setShowPassword","isLoading","setIsLoading","socialLoading","setSocialLoading","rememberMe","setRememberMe","login","socialLogin","demoLogin","isAuthenticated","useAuth","navigate","useNavigate","location","useLocation","getRedirectTarget","redirectQuery","_b","_a","from","setFrom","useEffect","script","initializeGoogleAuth","handleGoogleResponse","error","response","prev","socialData","result","toast","handleGoogleLogin","notification","container","initializeFacebookAuth","handleFacebookLogin","accessToken","userInfo","handleChange","e","handleSubmit","handleDemoLogin","containerVariants","itemVariants","jsx","jsxs","motion","feature","index","FaEnvelope","FaLock","FaEyeSlash","FaEye","Link","Fragment","FcGoogle","FaFacebook"],"mappings":"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"}