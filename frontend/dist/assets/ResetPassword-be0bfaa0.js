import{d as I,b as E,r as m,u as Z,j as e,m as n,a as t,L as f,F as x,z as i}from"./index-341ba9ec.js";import{f as q,a as y,b as P,c as v}from"./index.esm-45b297a2.js";const Y=()=>{const[N]=I(),w=N.get("token"),k=E(),[s,S]=m.useState({newPassword:"",confirmPassword:""}),[c,g]=m.useState({newPassword:!1,confirmPassword:!1}),[o,b]=m.useState(!1),[L,z]=m.useState(!1),{resetPassword:C}=Z(),p=a=>{const{name:r,value:u}=a.target;S(j=>({...j,[r]:u}))},F=()=>{if(!s.newPassword||!s.confirmPassword)return i.error("Please fill in all fields"),!1;if(s.newPassword.length<8)return i.error("Password must be at least 8 characters long"),!1;if(s.newPassword!==s.confirmPassword)return i.error("Passwords do not match"),!1;const a=/[A-Z]/.test(s.newPassword),r=/[a-z]/.test(s.newPassword),u=/\d/.test(s.newPassword);return/[!@#$%^&*]/.test(s.newPassword),!a||!r||!u?(i.error("Password must contain uppercase, lowercase, and numbers"),!1):!0},A=async a=>{if(a.preventDefault(),!w){i.error("Invalid reset link");return}if(F()){b(!0);try{const r=await C(w,s.newPassword);r.success?(i.success("‚úÖ Password reset successfully!"),z(!0),setTimeout(()=>{k("/login")},2e3)):i.error(r.message||"Failed to reset password")}catch(r){console.error("Reset password error:",r),i.error("An error occurred. Please try again.")}finally{b(!1)}}},R={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},d=(()=>{const a=s.newPassword;let r=0;return a.length>=8&&r++,a.length>=12&&r++,/[A-Z]/.test(a)&&r++,/[a-z]/.test(a)&&r++,/\d/.test(a)&&r++,/[!@#$%^&*]/.test(a)&&r++,r})()/6*100,h=d<33?"bg-red-500":d<66?"bg-yellow-500":"bg-green-500",$=d<33?"Weak":d<66?"Fair":"Strong";return w?e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:t(n.div,{className:"w-full max-w-md",variants:R,initial:"hidden",animate:"visible",children:[e(n.div,{variants:l,className:"mb-6",children:t(f,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[e(q,{className:"mr-2"}),"Back to Login"]})}),e(n.div,{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",variants:l,children:L?e(x,{children:t(n.div,{className:"text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[e(n.div,{className:"text-6xl mb-6",animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:"‚úÖ"}),e("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successful!"}),e("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You'll be redirected to login shortly."}),e(f,{to:"/login",className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Go to Login"})]})}):t(x,{children:[t(n.div,{className:"text-center mb-8",variants:l,children:[e("div",{className:"text-4xl mb-4",children:"üîë"}),e("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),e("p",{className:"text-gray-600",children:"Enter your new password below. Make it strong and unique."})]}),t("form",{onSubmit:A,className:"space-y-6",children:[t(n.div,{variants:l,children:[e("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t("div",{className:"relative",children:[e(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:c.newPassword?"text":"password",id:"newPassword",name:"newPassword",value:s.newPassword,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm placeholder-gray-400",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",disabled:o}),e("button",{type:"button",onClick:()=>g(a=>({...a,newPassword:!a.newPassword})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:o,children:c.newPassword?e(P,{size:16}):e(v,{size:16})})]}),s.newPassword&&t(n.div,{className:"mt-3",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[t("div",{className:"flex items-center justify-between mb-1",children:[e("span",{className:"text-xs font-medium text-gray-600",children:"Password Strength"}),e("span",{className:`text-xs font-semibold ${h==="bg-red-500"?"text-red-600":h==="bg-yellow-500"?"text-yellow-600":"text-green-600"}`,children:$})]}),e("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e(n.div,{className:`h-2 rounded-full ${h}`,initial:{width:0},animate:{width:`${d}%`},transition:{duration:.3}})})]})]}),t(n.div,{variants:l,children:[e("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),t("div",{className:"relative",children:[e(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:c.confirmPassword?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm placeholder-gray-400",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",disabled:o}),e("button",{type:"button",onClick:()=>g(a=>({...a,confirmPassword:!a.confirmPassword})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:o,children:c.confirmPassword?e(P,{size:16}):e(v,{size:16})})]}),s.confirmPassword&&e(n.p,{className:`text-xs mt-2 ${s.newPassword===s.confirmPassword?"text-green-600":"text-red-600"}`,initial:{opacity:0},animate:{opacity:1},children:s.newPassword===s.confirmPassword?"‚úÖ Passwords match":"‚ùå Passwords do not match"})]}),e(n.button,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",variants:l,whileHover:o?{}:{scale:1.02},whileTap:o?{}:{scale:.98},children:o?t("div",{className:"flex items-center justify-center space-x-2",children:[e("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e("span",{children:"Resetting password..."})]}):"Reset Password"})]}),t(n.div,{className:"mt-6 pt-6 border-t border-gray-200",variants:l,children:[e("h4",{className:"font-medium text-gray-900 mb-3",children:"Password Requirements:"}),t("ul",{className:"text-sm text-gray-600 space-y-2",children:[t("li",{className:`flex items-center ${s.newPassword.length>=8?"text-green-600":""}`,children:[s.newPassword.length>=8?"‚úÖ":"‚óã"," At least 8 characters"]}),t("li",{className:`flex items-center ${/[A-Z]/.test(s.newPassword)&&/[a-z]/.test(s.newPassword)?"text-green-600":""}`,children:[/[A-Z]/.test(s.newPassword)&&/[a-z]/.test(s.newPassword)?"‚úÖ":"‚óã"," Mix of uppercase and lowercase"]}),t("li",{className:`flex items-center ${/\d/.test(s.newPassword)?"text-green-600":""}`,children:[/\d/.test(s.newPassword)?"‚úÖ":"‚óã"," At least one number"]})]})]})]})})]})}):e("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:e(n.div,{className:"w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:t("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[e("div",{className:"text-4xl mb-4",children:"‚ùå"}),e("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),e("p",{className:"text-gray-600 mb-6",children:"The password reset link is invalid or has expired."}),e(f,{to:"/forgot-password",className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Request New Link"})]})})})};export{Y as default};
//# sourceMappingURL=ResetPassword-be0bfaa0.js.map
